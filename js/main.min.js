(function(d){var q=d(window),t=new WebStorageCache({storage:"localStorage"}),r=12,b="https://api.github.com/search/code?sort=indexed&order=desc",k="repo:ZYallers/ZYaller+extension:md",f={defAnimation:"fadeInUp",scrollDuration:800,statsDuration:4000},p=["#",">","`","<","/","*","-","!"];var l={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(E){var C="";var L,J,H,K,I,G,F;var D=0;E=l._utf8_encode(E);while(D<E.length){L=E.charCodeAt(D++);J=E.charCodeAt(D++);H=E.charCodeAt(D++);K=L>>2;I=((L&3)<<4)|(J>>4);G=((J&15)<<2)|(H>>6);F=H&63;if(isNaN(J)){G=F=64}else{if(isNaN(H)){F=64}}C=C+this._keyStr.charAt(K)+this._keyStr.charAt(I)+this._keyStr.charAt(G)+this._keyStr.charAt(F)}return C},decode:function(E){var C="";var L,J,H;var K,I,G,F;var D=0;E=E.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(D<E.length){K=this._keyStr.indexOf(E.charAt(D++));I=this._keyStr.indexOf(E.charAt(D++));G=this._keyStr.indexOf(E.charAt(D++));F=this._keyStr.indexOf(E.charAt(D++));L=(K<<2)|(I>>4);J=((I&15)<<4)|(G>>2);H=((G&3)<<6)|F;C=C+String.fromCharCode(L);if(G!=64){C=C+String.fromCharCode(J)}if(F!=64){C=C+String.fromCharCode(H)}}C=l._utf8_decode(C);return C},_utf8_encode:function(D){D=D.replace(/\r\n/g,"\n");var C="";for(var F=0;F<D.length;F++){var E=D.charCodeAt(F);if(E<128){C+=String.fromCharCode(E)}else{if((E>127)&&(E<2048)){C+=String.fromCharCode((E>>6)|192);C+=String.fromCharCode((E&63)|128)}else{C+=String.fromCharCode((E>>12)|224);C+=String.fromCharCode(((E>>6)&63)|128);C+=String.fromCharCode((E&63)|128)}}}return C},_utf8_decode:function(C){var E="",G=0,I=0,H=0,F=0,D=0;while(G<C.length){I=C.charCodeAt(G);if(I<128){E+=String.fromCharCode(I);G++}else{if((I>191)&&(I<224)){F=C.charCodeAt(G+1);E+=String.fromCharCode(((I&31)<<6)|(F&63));G+=2}else{F=C.charCodeAt(G+1);D=C.charCodeAt(G+2);E+=String.fromCharCode(((I&15)<<12)|((F&63)<<6)|(D&63));G+=3}}}return E}};var z=function(D){var C=window.location.search.substr(1).match(new RegExp("(^|&)"+D+"=([^&]*)(&|$)"));return C!=null?C[2]:null};var i=function(G){if(!(G>0)||G<=r){return}var E=d(".pagination"),C=[],I=z("q"),J=z("m"),H=z("page")||1,F=Math.ceil(G/r),D=(I?"q="+I:"")+(J?"&m="+J:"");D=D?"?"+D+"&page=":"?page=";if(H==1){C.push('<span class="page-numbers inactive">Prev</span>')}else{if(H>1){C.push('<a href="'+D+(parseInt(H)-1)+'" class="page-numbers">Prev</a>')}}C.push('<span class="page-numbers inactive">'+H+"</span>");if(H==F){C.push('<span class="page-numbers inactive">Next</span>')}else{if(H<F){C.push('<a href="'+D+(parseInt(H)+1)+'" class="page-numbers">Next</a>')}}E.html(C.join("\n"));E.parent().fadeIn()};var u=function(D,C){return D.replace(/\{\{([\w\-_\.]+)\}\}/gi,function(E,F){var G=C;F.split(".").forEach(function(H){G=G[H]});return G})};var x=[];var h=function(D){var E=function(){return D[Math.floor((Math.random()*D.length))]};var C=E();while(x.indexOf(C)!=-1){C=E()}x.push(C);return C};var n=function(D,G){var E=D.items,C=E.length;d.itemCount=C;d.reoadedItemCount=0;for(var F=0;F<C;F++){(function(R,Q){var I=d("div.bricks-wrapper"),H=d("ul.slides"),P=d("#lists-item-template").html(),N={sha:R["sha"],intro:"",link:R["html_url"],title:R["name"].slice(0,-3),meta:R["path"].split("/")[1],img:h(window.SECTION_IMAGE)};N.meta=N.meta||"php";N.metalink="/?m="+N.meta;N.meta=N.meta.toUpperCase();I.append(u(P,N));var O=true;if(t.isSupported()){var M=t.get(R["sha"]);if(M){O=false;d.reoadedItemCount++;var K=M.split("\n"),L=K.length;for(var J=2;J<L;J++){var S=d.trim(K[J]);if(S!=""&&d.inArray(S.slice(0,1),p)==-1){setTimeout(function(){S=S.substr(0,40)+"...";var T=d("[sha="+R["sha"]+"]");if(T.attr("art")=="1"){T.find("div.entry-excerpt").html(S)}else{T.find("ul.entry-meta").children("li").eq(1).html(S)}},(Q+1)*100);break}}}}if(O){d.ajax({url:R["git_url"],async:true,timeout:10000,dataType:"json",complete:function(Z,Y){d.reoadedItemCount++;console.log("reloaded item: ",R["sha"],"length: ",d.reoadedItemCount);if(Y=="success"){var X=l.decode(Z["responseJSON"]["content"]),W=X.split("\n"),T=W.length;for(var V=2;V<T;V++){var U=d.trim(W[V]);if(U!=""&&p.indexOf(U.slice(0,1))==-1){setTimeout(function(){U=U.substr(0,40)+"...";var aa=d("[sha="+R["sha"]+"]");if(aa.attr("art")=="1"){aa.find("div.entry-excerpt").html(U)}else{aa.find("ul.entry-meta").children("li").eq(1).html(U)}t.isSupported()&&t.set(R["sha"],X,{exp:3600})},(Q+1)*100);break}}}}})}})(E[F],F)}typeof(G)=="function"&&G(D)};var j=function(J,H){var D=z("q"),K=z("m"),E=z("page")||1,G=(D?D+"+":"")+"path:/tag"+(K?"/"+K:""),C=b+"&q="+G+"+"+k+"&page="+E+"&per_page="+r;var F=true;if(t.isSupported()){var I=t.get(encodeURI(C));if(I){F=false;typeof(J)=="function"&&J(I)}}if(F){d.ajax({url:C,async:true,timeout:10000,dataType:"json",success:function(L){t.isSupported()&&t.set(encodeURI(C),L,{exp:600});typeof(J)=="function"&&J(L)},error:function(M,L,N){typeof(H)=="function"&&H(L)}})}};var B=function(){d("body").css({"background-image":"url("+h(window.BACKGROUND_IMAGE)+")","transition":"transform .3s ease-out","background-color":"transparent","background-size":"cover","background-position":"center center","background-repeat":"no-repeat","background-attachment":"fixed","-webkit-animation":"fadein .5s ease-out 0s forwards"})};var v=function(C){q.on("load",function(){d("#loader").fadeOut("slow",function(){d("#preloader").delay(300).fadeOut("slow",C)})})};var s=function(){d("ul.sf-menu").superfish({animation:{height:"show"},animationOut:{height:"hide"},cssArrows:false,delay:600})};var g=function(){var C=d(".menu-toggle"),D=d(".main-navigation");C.on("click",function(E){E.preventDefault();C.toggleClass("is-clicked");D.slideToggle();E.stopPropagation()});D.on("click",function(E){E.stopPropagation()});if(C.is(":visible")){D.addClass("mobile")}q.resize(function(){if(C.is(":visible")){D.addClass("mobile")}else{D.removeClass("mobile")}});d("#main-nav-wrap li a").on("click",function(){if(D.hasClass("mobile")){C.toggleClass("is-clicked");D.fadeOut()}});d(document).on("click",function(){if(D.is(":visible")){C.toggleClass("is-clicked");D.slideToggle()}})};var w=function(){var D=d(".search-wrap");var G=D.find(".search-field");var F=d("#close-search");var E=d(".search-trigger");var C=d("body");E.on("click",function(I){I.preventDefault();I.stopPropagation();var H=d(this);C.addClass("search-visible");setTimeout(function(){d(".search-wrap").find(".search-field").focus()},100)});F.on("click",function(H){if(C.hasClass("search-visible")){C.removeClass("search-visible");setTimeout(function(){d(".search-wrap").find(".search-field").blur()},100)}H.stopPropagation()});D.on("click",function(H){if(!d(H.target).is(".search-field")){F.trigger("click")}});G.on("click",function(H){H.stopPropagation()});G.attr({placeholder:"Type Your Keywords",autocomplete:"off"})};var a=function(){d(".bricks-wrapper").imagesLoaded(function(){console.log("images loaded");d.isLoadedImage=true})};var o=function(){d(".animate-this").each(function(D){var C=d(this);setTimeout(function(){C.addClass("animated fadeInUp")},D*300)});q.on("resize",function(){d(".animate-this").removeClass("animate-this animated fadeInUp")})};var c=function(){var C=30;d.masonryResizeTimes=0;d.masonryResizeTask=setInterval(function(){console.log("try masonry resize...",d.masonryResizeTimes);d.masonryResizeTimes++;if(d.masonryResizeTimes>C){console.log("try masonry resize more than maximum");clearInterval(d.masonryResizeTask);iziToast.error({timeout:5000,icon:"fa fa-frown-o",position:"topRight",title:"TIMEOUT",message:"Try masonry resize more than maximum!"})}else{if(d.itemCount&&d.isLoadedImage&&d.reoadedItemCount==d.itemCount){console.log("masonry resized");clearInterval(d.masonryResizeTask);d(".bricks-wrapper").masonry({itemSelector:".entry",columnWidth:".grid-sizer",percentPosition:true,resize:true})}}},1000)};var e=function(){d(".smoothscroll").on("click",function(E){var D=this.hash,C=d(D);E.preventDefault();E.stopPropagation();d("html, body").stop().animate({"scrollTop":C.offset().top},f.scrollDuration,"swing").promise().done(function(){if(d("body").hasClass("menu-is-open")){d("#header-menu-trigger").trigger("click")}window.location.hash=D})})};var y=function(){d("input, textarea, select").placeholder()};var m=function(){var C=500,G=400,F=400,E=300,D=d("#go-top");q.on("scroll",function(){if(q.scrollTop()>=C){D.fadeIn(G)}else{D.fadeOut(F)}})};(function A(){B();v(function(){j(function(C){if(C||C["incomplete_results"]===false){if(C.items.length>0){d("div.bricks-loading").hide();n(C,function(D){a();c();o();i(D["total_count"])})}else{d("div.bricks-loading").html('<div style="margin: 90px 0;">'+'   <div class="fa fa-frown-o" style="font-size: -webkit-xxx-large;"></div>'+'   <div style="font-size: larger;">No matching files found.</div>'+"</div>")}}},function(C){var D="Error occurred, try reload it!";if(C=="timeout"){D="Network slow, try reload it!"}iziToast.error({timeout:5000,icon:"fa fa-frown-o",position:"topRight",title:C.toUpperCase(),message:D})})});s();g();w();e();y();m()})()})(jQuery);