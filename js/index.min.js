(function(d){var h={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(q){var o="";var x,v,t,w,u,s,r;var p=0;q=h._utf8_encode(q);while(p<q.length){x=q.charCodeAt(p++);v=q.charCodeAt(p++);t=q.charCodeAt(p++);w=x>>2;u=((x&3)<<4)|(v>>4);s=((v&15)<<2)|(t>>6);r=t&63;if(isNaN(v)){s=r=64}else{if(isNaN(t)){r=64}}o=o+this._keyStr.charAt(w)+this._keyStr.charAt(u)+this._keyStr.charAt(s)+this._keyStr.charAt(r)}return o},decode:function(q){var o="";var x,v,t;var w,u,s,r;var p=0;q=q.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(p<q.length){w=this._keyStr.indexOf(q.charAt(p++));u=this._keyStr.indexOf(q.charAt(p++));s=this._keyStr.indexOf(q.charAt(p++));r=this._keyStr.indexOf(q.charAt(p++));x=(w<<2)|(u>>4);v=((u&15)<<4)|(s>>2);t=((s&3)<<6)|r;o=o+String.fromCharCode(x);if(s!=64){o=o+String.fromCharCode(v)}if(r!=64){o=o+String.fromCharCode(t)}}o=h._utf8_decode(o);return o},_utf8_encode:function(p){p=p.replace(/\r\n/g,"\n");var o="";for(var r=0;r<p.length;r++){var q=p.charCodeAt(r);if(q<128){o+=String.fromCharCode(q)}else{if((q>127)&&(q<2048)){o+=String.fromCharCode((q>>6)|192);o+=String.fromCharCode((q&63)|128)}else{o+=String.fromCharCode((q>>12)|224);o+=String.fromCharCode(((q>>6)&63)|128);o+=String.fromCharCode((q&63)|128)}}}return o},_utf8_decode:function(o){var q="",s=0,u=0,t=0,r=0,p=0;while(s<o.length){u=o.charCodeAt(s);if(u<128){q+=String.fromCharCode(u);s++}else{if((u>191)&&(u<224)){r=o.charCodeAt(s+1);q+=String.fromCharCode(((u&31)<<6)|(r&63));s+=2}else{r=o.charCodeAt(s+1);p=o.charCodeAt(s+2);q+=String.fromCharCode(((u&15)<<12)|((r&63)<<6)|(p&63));s+=3}}}return q}};var l={backgroundBaseUrl:"https://hxsupload-oss.hxsapp.com/lib/flow/image/background/",background:["IKMsqwyaR6qN0kq48STw_annapurna.jpg","photo-1432256851563-20155d0b7a39.jpeg","photo-1444041401850-6d9f537550c4.jpeg","photo-1482192505345-5655af888cc4.jpeg","photo-1488503674815-d6c13687ff65.jpeg","photo-1489703197108-878f05f4b31b.jpeg","photo-1497996377197-e4b9024658a4.jpeg","photo-1500993855538-c6a99f437aa7.jpeg","photo-1525466888468-cb6a1b6dc486.jpeg","photo-1526402978125-f1d6df91cbac.jpeg","shitou-he-shan.jpg","stock-photo-173565125.jpg","wdXqHcTwSTmLuKOGz92L_Landscape.jpg"],sectionBaseUrl:"https://hxsupload-oss.hxsapp.com/lib/flow/image/section/",section:["photo-1422207258071-70754198c4a2.jpeg","photo-1422207258071-70754198cde3.png","photo-1427384924179-da03b8c3ccf8.jpeg","photo-1453230645768-7ecb0653013d.jpeg","photo-1453805622064-de9796753c22.jpeg","photo-1465101011108-4894b8cf5ec9.jpeg","photo-1467659226669-a1360d97be2d.jpeg","photo-1471644865643-fe726490270a.jpeg","photo-1474511019749-26a5a4b632b2.jpeg","photo-1475724017904-b712052c192a.jpeg","photo-1480506132288-68f7705954bd.jpeg","photo-1481400239811-cd7d97777edc.jpeg","photo-1483030096298-4ca126b58199.jpeg","photo-1483356256511-b48749959172.jpeg","photo-1484950763426-56b5bf172dbb.jpeg","photo-1485291571150-772bcfc10da5.jpeg","photo-1485470733090-0aae1788d5af.jpeg","photo-1486758206125-94d07f414b1c.jpeg","photo-1487695396764-5e73255e78d9.jpeg","photo-1491924759721-64cea51ecd6e.jpeg","photo-1494007485290-ce668e189d92.jpeg","photo-1495512446763-b2bdc445b4db.jpeg","photo-1497616987741-7fba8102046e.jpeg","photo-1501030834146-c0b1914e72be.jpeg","photo-1501973801540-537f08ccae7b.jpeg","photo-1502083728181-687546e77613.jpeg","photo-1503104538136-7491acef4d5d.jpeg","photo-1503248739195-65669aaf5b0f.jpeg","photo-1505753065532-68713e211a3d.jpeg","photo-1505939374277-8d746c530068.jpeg","photo-1506297282690-18c075dcf9a4.jpeg","photo-1516280906200-bf75a67eb01a.jpeg","photo-1517531874685-ae7d6eb69383.jpeg","photo-1519342885256-48793c97ee37.jpeg","photo-1521188453774-625d3fa52b67.jpeg","photo-1523436278115-b135a7a26ad6.jpeg","photo-1525019060245-a02c43a44253.jpeg","photo-1526251641086-8047e534f6bd.jpeg","photo-1526925712774-2833a7ecd0d4.jpeg","photo-1528558430639-e835f5953f3f.jpeg","photo-1529772187639-085af5eb1c40.jpeg","photo-1530861579116-b19f2dbf0ca3.jpeg","photo-1531976283823-ff4d70a477ab.jpeg","photo-1533982497304-dbc0574a309d.jpeg"],randCacheArray:[],Rand:function(o){var p=this.background;if(o===2){p=this.section;return this.sectionBaseUrl+p[Math.floor((Math.random()*p.length))]}return this.backgroundBaseUrl+p[Math.floor((Math.random()*p.length))]}};var a={GetUrlParam:function(q,p){var o=window.location.search.substr(1).match(new RegExp("(^|&)"+q+"=([^&]*)(&|$)"));if(o!=null){return o[2]}if(p){return p}return""},IsMobile:function(){var o=window.innerWidth||document.documentElement.clientWidth;return o<500},Toast:function(o,q,p){iziToast.error({timeout:p||5000,icon:"fa fa-frown-o",position:"topRight",title:o.toUpperCase()+"：",message:q})},Throttle:function(o,q){var p=Date.now();return function(){var r=Date.now();if((p+q-r)<0){p=r;o()}}}};var j=d(window),i=d("#article-container"),c=d("#lists-item-template").html(),k=new WebStorageCache({storage:"localStorage"}),b="Z2hwX3huNXRISUVtVjI4c1FaaE1JQ1EzdzJYY1FyU0FxdDFvSkMydg==",e="https://api.github.com/search/code?sort=indexed&order=desc",n="repo:ZYallers/ZYaller+extension:md",g={defAnimation:"fadeInUp",scrollDuration:800,statsDuration:4000},m=i.masonry({itemSelector:"article.entry",columnWidth:"div.grid-sizer",horizontalOrder:true,percentPosition:true,resize:true});var f={IntroFilter:["#",">","<","/","-","!","["],Loader:{Show:function(o){d(".preloader").delay(300).fadeIn("slow",o)},Hide:function(o){d(".preloader").delay(600).fadeOut("slow",o)}},Preloader:function(o){j.on("load",o).on("resize",function(){d("article.animate-this").removeClass("animate-this animated fadeInUp")})},BodyBgLoader:function(){d("body").css({"background-image":"url("+l.Rand(1)+")","transition":"transform .3s ease-out","background-color":"transparent","background-size":"cover","background-position":"center center","background-repeat":"no-repeat","background-attachment":"fixed","-webkit-animation":"fadein .5s ease-out 0s forwards"})},MicroTemplate:function(p,o){return p.replace(/{{([\w\-_.]+)}}/gi,function(q,r){var s=o;r.split(".").forEach(function(t){s=s[t]});return s})},GetPagination:function(u,s,w){var r=d("nav.pagination"),q=[],t=a.GetUrlParam("q"),v=a.GetUrlParam("m"),p=Math.ceil(u/w),o=(t?"q="+t:"")+(v?"&m="+v:"");o=o?"?"+o+"&page=":"?page=";if(s>9){q.push('<a href="'+o+(parseInt(s)-9)+'" class="page-numbers">Prev</a>')}else{q.push('<span class="page-numbers inactive">Prev</span>')}q.push('<span class="page-numbers inactive">'+s+"</span>");if(s<p){q.push('<a href="'+o+(parseInt(s)+1)+'" class="page-numbers">Next</a>')}else{q.push('<span class="page-numbers inactive">Next</span>')}r.html(q.join("\n"));r.parent().delay(600).fadeIn("slow")},GetEntryExcerptText:function(t){var q=t.split("\n"),p=100,o="",r="";for(var s=2;s<q.length;s++){r=q[s].trim();if(r===""||d.inArray(r.slice(0,1),this.IntroFilter)!==-1){continue}o+=r+" ";if(o.length>=p){break}}return o.substring(0,p).replace(/[`*]/gi,"").trim()+"..."},GetArticleAnnotation:function(p){var o=p.split("\n");if(o.length>0&&o[0].match(/^\[\/\/]:(.*)#(.*)[("](.*)?[)"]/g)!=null&&RegExp.$3!==""){return RegExp.$3.split("|")}return[]},GetArticleData:function(q,u){var t=q["path"].split("/")[1].trim()||"";var s={sha:q["sha"],size:"0.00KB",date:"",link:"/item.html?s="+q["sha"],title:q["name"].slice(0,-3),meta:t.toUpperCase(),metalink:"/?m="+t,img:""};var r=JSON.parse(u),p=h.decode(r["content"]);s.size=(r["size"]/1024).toFixed(2)+"KB";var o=this.GetArticleAnnotation(p);if(o.length>0){s.date=o[0].trim()}if(o.length>2){s.img=o[2].trim()}if(s.img===""){s.img=l.Rand(2)}s.intro=this.GetEntryExcerptText(p);return s},AppendArticle:function(p,r){var q=this.GetArticleData(p,r),s=this.MicroTemplate(c,q),o=d(s);o.imagesLoaded().done(function(){m.append(o).masonry("appended",o)})},GetArticles:function(o){for(var p=0;p<o.items.length;p++){(function(q,r){setTimeout(function(){var s=true;if(k.isSupported()){var t=k.get(q["sha"]);if(t){s=false;f.AppendArticle(q,t)}}if(s){d.ajax({url:"https://api.github.com/repos/ZYallers/ZYaller/git/blobs/"+q["sha"],headers:{Authorization:"token "+h.decode(b)},async:true,timeout:10000,dataType:"json",complete:function(v,u){if(u==="success"){f.AppendArticle(q,v["responseText"]);if(k.isSupported()){k.set(q["sha"],v["responseText"],{exp:3600})}}}})}},r*150)})(o.items[p],p)}},GetLists:function(t,q,v){var p=a.GetUrlParam("q"),u=a.GetUrlParam("m"),t=t||parseInt(a.GetUrlParam("page",1)),s=(p?p+"+":"")+"path:/tag"+(u?"/"+u:""),r=e+"&q="+s+"+"+n+"&page="+t+"&per_page="+q;if(k.isSupported()){var o=k.get(encodeURI(r));if(o){v(o);return}}d.ajax({url:r,headers:{Authorization:"token "+h.decode(b)},async:true,timeout:10000,dataType:"json",success:function(w){if(k.isSupported()){k.set(encodeURI(r),w,{exp:600})}v(w)},error:function(x,w){a.Toast(w,"网络异常，请刷新页面重试")}})},SuperFish:function(){d("ul.sf-menu").superfish({animation:{height:"show"},animationOut:{height:"hide"},cssArrows:false,delay:600})},MobileNav:function(){var o=d(".menu-toggle"),p=d(".main-navigation");o.on("click",function(q){q.preventDefault();o.toggleClass("is-clicked");p.slideToggle();q.stopPropagation()});p.on("click",function(q){q.stopPropagation()});if(o.is(":visible")){p.addClass("mobile")}j.resize(function(){if(o.is(":visible")){p.addClass("mobile")}else{p.removeClass("mobile")}});d("#main-nav-wrap li a").on("click",function(){if(p.hasClass("mobile")){o.toggleClass("is-clicked");p.fadeOut()}});d(document).on("click",function(){if(p.is(":visible")){o.toggleClass("is-clicked");p.slideToggle()}})},MenuSearch:function(){var o=d("body"),p=d(".search-wrap"),s=p.find(".search-field"),r=d("#close-search"),q=d(".search-trigger");q.on("click",function(u){u.preventDefault();u.stopPropagation();var t=d(this);o.addClass("search-visible");setTimeout(function(){d(".search-wrap").find(".search-field").focus()},100)});r.on("click",function(t){if(o.hasClass("search-visible")){o.removeClass("search-visible");setTimeout(function(){d(".search-wrap").find(".search-field").blur()},100)}t.stopPropagation()});p.on("click",function(t){if(!d(t.target).is(".search-field")){r.trigger("click")}});s.on("click",function(t){t.stopPropagation()});s.attr({placeholder:"Input Your Keywords",autocomplete:"off"})},SmoothScroll:function(){d(".smoothscroll").on("click",function(q){var p=this.hash,o=d(p);q.preventDefault();q.stopPropagation();d("html").stop().animate({scrollTop:o.offset().top},g.scrollDuration,"swing").promise().done(function(){if(d("body").hasClass("menu-is-open")){d("#header-menu-trigger").trigger("click")}window.location.hash=p})})},Placeholder:function(){d("input, textarea, select").placeholder()},ScrollHandler:function(){var p=d("#go-top"),s=4,o=false,r=a.IsMobile()?100:10,q=parseInt(a.GetUrlParam("page",1));return function(){var t=j.scrollTop();if(t>=700){p.fadeIn(400)}else{p.fadeOut(400)}if(o){return}if((d(document).height()-j.height()-t)>r){return}o=true;s--;q++;f.Loader.Show(function(){f.GetLists(q,6,function(u){if(u["incomplete_results"]===true||u.items.length===0){f.Loader.Hide(function(){d(".no-data").show()});return}f.GetArticles(u);f.Loader.Hide(function(){if(s<=0){f.GetPagination(u["total_count"],q,6)}else{o=false}})})})}},BackToTop:function(){j.on("scroll",a.Throttle(this.ScrollHandler(),30))}};f.Preloader(function(){f.BodyBgLoader();f.SuperFish();f.MobileNav();f.MenuSearch();f.Placeholder();f.SmoothScroll();f.BackToTop();f.GetLists(0,6,function(o){f.Loader.Hide(function(){if(o["incomplete_results"]===true||o.items.length===0){i.html('<div style="text-align:center;margin:10rem 0">'+'   <div class="fa fa-frown-o" style="font-size:-webkit-xxx-large;"></div>'+'   <div style="font-size:larger;color:#837f7f">No Matching Files Found</div>'+"</div>");return}f.GetArticles(o)})})})})(jQuery);var _hmt=_hmt||[];setTimeout(function(){var b=document.createElement("script");b.src="https://hm.baidu.com/hm.js?5cb1fb48a3febacb9b47f96a5cf3959b";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)},3000);